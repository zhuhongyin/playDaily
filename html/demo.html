<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function uniq(arr,isSort,callback){
       var res=[];
       var see; //上个数据项
        if(typeof isSort !=="boolean"){
            isSort=false;
            callback=isSort;
        }
       for(var i=0; i<arr.length; i++){
           var computed = callback ? callback(arr[i]) : arr[i];
           if(isSort){
               if(!i||see!==computed){
                   res.push(computed);
               }
           }else if(res.indexOf(computed)=== -1){
               res.push(computed);
           }
       }
       return res;
    }
    console.log( uniq([1,2,3,'A','a',5,6],true,function (key) {
        return typeof  key==="string"? key.toLowerCase():key;
    }) );
</script>

</body>
</html>